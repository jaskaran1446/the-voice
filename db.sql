CREATE TABLE rshow (
    showid INT PRIMARY KEY NOT NULL,
    showname VARCHAR(20) NOT NULL,
    yr INT NOT NULL
);
INSERT INTO rshow VALUES (1,'The Voice: season 10',2014);
INSERT INTO rshow VALUES (2,'The Voice: season 11',2015);

CREATE TABLE judge (
    jid INT PRIMARY KEY NOT NULL,
    jname VARCHAR(18) NOT NULL,
    jphon BIGINT NOT NULL,
    jadd VARCHAR(13) NOT NULL
);

INSERT INTO judge VALUES (1,'Adam Levine',7845961230,'Richardson');
INSERT INTO judge VALUES (2,'Miley Cyrus',3232420092,'Washington');
INSERT INTO judge VALUES (3,'Alicia Keys',9167645845,'Webster');
INSERT INTO judge VALUES (4,'Blake Shelton',2213527539,'Lawrenceville');
INSERT INTO judge VALUES (5,'Pharrell Williams',3808687710,'Rayland');
INSERT INTO judge VALUES (6,'Christina Aguilera',6970715851,'Westernville');

CREATE TABLE judged_in (
    jid INT NOT NULL,
	FOREIGN KEY(jid) REFERENCES judge(jid),
    showid INT NOT NULL,
	FOREIGN KEY(showid) REFERENCES rshow(showid)
);
INSERT INTO judged_in VALUES (1,1);
INSERT INTO judged_in VALUES (2,2);
INSERT INTO judged_in VALUES (3,2);
INSERT INTO judged_in VALUES (4,1);
INSERT INTO judged_in VALUES (5,1);
INSERT INTO judged_in VALUES (6,1);
INSERT INTO judged_in VALUES (1,2);
INSERT INTO judged_in VALUES (4,2);

CREATE TABLE applicant (
    apid INT PRIMARY KEY NOT NULL,
    apname VARCHAR(17) NOT NULL,
    dob DATETIME NOT NULL,
    apphone BIGINT NOT NULL,
    apadd VARCHAR(17) NOT NULL
);
INSERT INTO applicant VALUES (1,'Riley Elmore','1976-03-30 00:00:00',5393998124,'Washington');
INSERT INTO applicant VALUES (2,'Brendan Fletcher','1966-07-10 00:00:00',3092368660,'Bloomingdale');
INSERT INTO applicant VALUES (3,'Billy','1971-11-13 00:00:00',7464589524,'Webster');
INSERT INTO applicant VALUES (4,'Simone Gundy','1975-03-25 00:00:00',9690112354,'Lawrenceville');
INSERT INTO applicant VALUES (5,'Bindi Liebowitz','1960-04-01 00:00:00',4979866979,'Rayland');
INSERT INTO applicant VALUES (6,'Nolan Neal','1992-07-07 00:00:00',7869796293,'Westernville');
INSERT INTO applicant VALUES (7,'Johnny Rez','1974-03-19 00:00:00',2369015711,'Conway');
INSERT INTO applicant VALUES (8,'Ponciano Seoane','1992-07-21 00:00:00',6867234173,'North Little Rock');
INSERT INTO applicant VALUES (9,'Jason Warrior','1965-01-17 00:00:00',1332524293,'Inwood');
INSERT INTO applicant VALUES (10,'Dave Moisan','1983-07-16 00:00:00',7515303472,'Hawthorne');
INSERT INTO applicant VALUES (11,'Ali Caldwell','1980-08-02 00:00:00',3866007735,'Rayland');
INSERT INTO applicant VALUES (12,'Josette Diaz','1996-12-03 00:00:00',1993291174,'Westernville');
INSERT INTO applicant VALUES (13,'Aaron Gibson','1969-10-14 00:00:00',1613715591,'Conway');
INSERT INTO applicant VALUES (14,'Karlee Metzger','1981-04-10 00:00:00',5009883682,'Luck');
INSERT INTO applicant VALUES (15,'Sarayah','1998-01-04 00:00:00',3215143646,'Columbus');
INSERT INTO applicant VALUES (16,'Maye Thomas','1969-04-22 00:00:00',4756356657,'Reading');
INSERT INTO applicant VALUES (17,'Sophia Urista','1994-06-05 00:00:00',7740655631,'Tuckerton');
INSERT INTO applicant VALUES (18,'Darby Walker','1993-01-23 00:00:00',4723743993,'Richardson');
INSERT INTO applicant VALUES (19,'Lauren Diaz','1982-04-15 00:00:00',8118589068,'Washington');
INSERT INTO applicant VALUES (20,'Khaliya Kimberlie','1972-06-16 00:00:00',4843437560,'Bloomingdale');
INSERT INTO applicant VALUES (21,'Charity Bowden','1961-10-25 00:00:00',6425838700,'Webster');
INSERT INTO applicant VALUES (22,'Christian Cuevas','1969-04-10 00:00:00',5247863970,'Lawrenceville');
INSERT INTO applicant VALUES (23,'Josh Halverson','1986-12-25 00:00:00',3415358852,'North Little Rock');
INSERT INTO applicant VALUES (24,'Belle Jewel','1961-06-04 00:00:00',6105772535,'Inwood');
INSERT INTO applicant VALUES (25,'W McDonald','1971-12-31 00:00:00',9071328079,'Hawthorne');
INSERT INTO applicant VALUES (26,'Kylie Rothfield','1977-02-24 00:00:00',5868249314,'Rayland');
INSERT INTO applicant VALUES (27,'Halle Tomlinson','1999-12-30 00:00:00',4934330286,'Westernville');
INSERT INTO applicant VALUES (28,'Austin Allsup','1992-07-21 00:00:00',1293559242,'Lawrenceville');
INSERT INTO applicant VALUES (29,'Gabe Broussard','1965-01-17 00:00:00',9192389574,'Rayland');
INSERT INTO applicant VALUES (30,'Christian Fermin','1983-07-16 00:00:00',8160797609,'Westernville');
INSERT INTO applicant VALUES (31,'Josh Gallagher','1980-08-02 00:00:00',4637892789,'North Little Rock');
INSERT INTO applicant VALUES (32,'Dana Harper','1996-12-03 00:00:00',4261052128,'Inwood');
INSERT INTO applicant VALUES (33,'Courtney Harrell','1969-10-14 00:00:00',8375413249,'Hawthorne');
INSERT INTO applicant VALUES (34,'Sundance Head','1981-04-10 00:00:00',8228536939,'Rayland');
INSERT INTO applicant VALUES (35,'Preston James','1998-01-04 00:00:00',2242545208,'Westernville');
INSERT INTO applicant VALUES (36,'Tarra Layne','1969-04-22 00:00:00',3232420091,'Richardson');
INSERT INTO applicant VALUES (37,'Blaine Long','1994-06-05 00:00:00',9167645802,'Washington');
INSERT INTO applicant VALUES (38,'Gabriel Violett','1993-01-23 00:00:00',2213527534,'Webster');
INSERT INTO applicant VALUES (39,'Whitney & Shannon','1982-04-15 00:00:00',3808687719,'Lawrenceville');
INSERT INTO applicant VALUES (40,'Michael Sanchez','1990-08-17 00:00:00',6970715856,'Rayland');
INSERT INTO applicant VALUES (41,'Lane Mack','1991-02-08 00:00:00',4751334367,'Westernville');
INSERT INTO applicant VALUES (42,'JSoul','1969-01-09 00:00:00',2262682208,'Conway');

CREATE TABLE episode (
    epid INT PRIMARY KEY NOT NULL,
    showid INT NOT NULL,
    eptype INT NOT NULL,
    epdate DATETIME NOT NULL,
    eprating INT NOT NULL,
	FOREIGN KEY(showid) REFERENCES rshow(showid)
);
INSERT INTO episode VALUES (1,1,1,'2014-01-01 00:00:00',4);
INSERT INTO episode VALUES (2,1,1,'2014-01-08 00:00:00',4);
INSERT INTO episode VALUES (3,1,2,'2014-01-15 00:00:00',3);
INSERT INTO episode VALUES (4,1,2,'2014-01-22 00:00:00',2);
INSERT INTO episode VALUES (5,1,3,'2014-01-29 00:00:00',1);
INSERT INTO episode VALUES (6,1,3,'2014-02-05 00:00:00',3);
INSERT INTO episode VALUES (7,1,3,'2014-02-12 00:00:00',5);
INSERT INTO episode VALUES (8,1,3,'2014-02-19 00:00:00',1);
INSERT INTO episode VALUES (9,1,3,'2014-02-26 00:00:00',5);
INSERT INTO episode VALUES (10,1,3,'2014-03-05 00:00:00',1);
INSERT INTO episode VALUES (11,1,3,'2014-03-12 00:00:00',1);
INSERT INTO episode VALUES (12,2,1,'2015-01-01 00:00:00',4);
INSERT INTO episode VALUES (13,2,1,'2015-01-08 00:00:00',2);
INSERT INTO episode VALUES (14,2,2,'2015-01-15 00:00:00',4);
INSERT INTO episode VALUES (15,2,2,'2015-01-22 00:00:00',4);
INSERT INTO episode VALUES (16,2,3,'2015-01-29 00:00:00',1);
INSERT INTO episode VALUES (17,2,3,'2015-02-05 00:00:00',4);
INSERT INTO episode VALUES (18,2,3,'2015-02-12 00:00:00',1);
INSERT INTO episode VALUES (19,2,3,'2015-02-19 00:00:00',2);
INSERT INTO episode VALUES (20,2,3,'2015-02-26 00:00:00',5);
INSERT INTO episode VALUES (21,2,3,'2015-03-05 00:00:00',2);
INSERT INTO episode VALUES (22,2,3,'2015-03-12 00:00:00',3);

CREATE TABLE audition (
    audid INT NOT NULL PRIMARY KEY,
    epid INT NOT NULL,
    city VARCHAR(9) NOT NULL,
	FOREIGN KEY(epid) REFERENCES episode(epid)
);
INSERT INTO audition VALUES (1,1,'pune');
INSERT INTO audition VALUES (2,2,'mumbai');
INSERT INTO audition VALUES (3,12,'delhi');
INSERT INTO audition VALUES (4,13,'bangalore');


CREATE TABLE team (
    teamid INT NOT NULL PRIMARY KEY,
    teamname VARCHAR(1) NOT NULL,
    jid INT NOT NULL,
    showid INT NOT NULL,
	FOREIGN KEY(jid) REFERENCES judge(jid),
	FOREIGN KEY(showid) REFERENCES rshow(showid)
);
INSERT INTO team VALUES (1,'A',1,1);
INSERT INTO team VALUES (2,'B',2,1);
INSERT INTO team VALUES (3,'C',3,1);
INSERT INTO team VALUES (4,'D',4,1);
INSERT INTO team VALUES (5,'A',1,2);
INSERT INTO team VALUES (6,'B',5,2);
INSERT INTO team VALUES (7,'C',6,2);
INSERT INTO team VALUES (8,'D',4,2);

CREATE TABLE contestant (
    apid INT NOT NULL,
    conid INT PRIMARY KEY NOT NULL,
    teamid INT NOT NULL,
    showid INT NOT NULL,
    epid INT,
	FOREIGN KEY(showid) REFERENCES rshow(showid),
	FOREIGN KEY(apid) REFERENCES applicant(apid),
	FOREIGN KEY(teamid) REFERENCES team(teamid)
);
INSERT INTO contestant VALUES (1,101,1,1,3);
INSERT INTO contestant VALUES (2,102,3,1,3);
INSERT INTO contestant VALUES (3,103,2,1,3);
INSERT INTO contestant VALUES (4,104,4,1,3);
INSERT INTO contestant VALUES (5,105,1,1,4);
INSERT INTO contestant VALUES (6,106,2,1,4);
INSERT INTO contestant VALUES (7,107,3,1,4);
INSERT INTO contestant VALUES (8,108,4,1,4);
INSERT INTO contestant VALUES (9,109,1,1,5);
INSERT INTO contestant VALUES (10,110,3,1,6);
INSERT INTO contestant VALUES (11,111,2,1,7);
INSERT INTO contestant VALUES (12,112,4,1,8);
INSERT INTO contestant VALUES (13,113,1,1,9);
INSERT INTO contestant VALUES (14,114,3,1,10);
INSERT INTO contestant VALUES (15,115,2,1,11);
INSERT INTO contestant VALUES (16,116,4,1,NULL);
INSERT INTO contestant VALUES (17,117,5,2,14);
INSERT INTO contestant VALUES (18,118,7,2,14);
INSERT INTO contestant VALUES (19,119,6,2,14);
INSERT INTO contestant VALUES (20,120,8,2,14);
INSERT INTO contestant VALUES (21,121,5,2,15);
INSERT INTO contestant VALUES (22,122,6,2,15);
INSERT INTO contestant VALUES (23,123,7,2,15);
INSERT INTO contestant VALUES (24,124,8,2,15);
INSERT INTO contestant VALUES (25,125,5,2,16);
INSERT INTO contestant VALUES (26,126,7,2,17);
INSERT INTO contestant VALUES (27,127,6,2,18);
INSERT INTO contestant VALUES (28,128,8,2,19);
INSERT INTO contestant VALUES (29,129,5,2,20);
INSERT INTO contestant VALUES (30,130,7,2,21);
INSERT INTO contestant VALUES (31,131,6,2,22);
INSERT INTO contestant VALUES (32,132,8,2,NULL);

CREATE TABLE staff (
    staffid INT NOT NULL PRIMARY KEY,
    staffname VARCHAR(7) NOT NULL,
    postid INT NOT NULL
);
INSERT INTO staff VALUES (1,'jask',1);
INSERT INTO staff VALUES (2,'karan',2);
INSERT INTO staff VALUES (3,'rishabh',2);
INSERT INTO staff VALUES (4,'anshit',3);
INSERT INTO staff VALUES (5,'pogo',3);

CREATE TABLE episode_has_staff (
    epid INT NOT NULL,
    staffid INT NOT NULL,
	FOREIGN KEY(epid) REFERENCES episode(epid),
	FOREIGN KEY(staffid) REFERENCES staff(staffid)
);
INSERT INTO episode_has_staff VALUES (1,1);
INSERT INTO episode_has_staff VALUES (2,1);
INSERT INTO episode_has_staff VALUES (3,1);
INSERT INTO episode_has_staff VALUES (4,1);
INSERT INTO episode_has_staff VALUES (5,1);
INSERT INTO episode_has_staff VALUES (6,1);
INSERT INTO episode_has_staff VALUES (7,1);
INSERT INTO episode_has_staff VALUES (8,1);
INSERT INTO episode_has_staff VALUES (9,1);
INSERT INTO episode_has_staff VALUES (10,1);
INSERT INTO episode_has_staff VALUES (11,1);
INSERT INTO episode_has_staff VALUES (12,1);
INSERT INTO episode_has_staff VALUES (13,1);
INSERT INTO episode_has_staff VALUES (14,1);
INSERT INTO episode_has_staff VALUES (15,1);
INSERT INTO episode_has_staff VALUES (16,1);
INSERT INTO episode_has_staff VALUES (17,1);
INSERT INTO episode_has_staff VALUES (18,1);
INSERT INTO episode_has_staff VALUES (19,5);
INSERT INTO episode_has_staff VALUES (20,5);
INSERT INTO episode_has_staff VALUES (21,5);
INSERT INTO episode_has_staff VALUES (22,5);
INSERT INTO episode_has_staff VALUES (1,2);
INSERT INTO episode_has_staff VALUES (2,2);
INSERT INTO episode_has_staff VALUES (3,2);
INSERT INTO episode_has_staff VALUES (4,2);
INSERT INTO episode_has_staff VALUES (5,2);
INSERT INTO episode_has_staff VALUES (6,2);
INSERT INTO episode_has_staff VALUES (7,2);
INSERT INTO episode_has_staff VALUES (8,2);
INSERT INTO episode_has_staff VALUES (9,2);
INSERT INTO episode_has_staff VALUES (10,2);
INSERT INTO episode_has_staff VALUES (11,2);
INSERT INTO episode_has_staff VALUES (12,3);
INSERT INTO episode_has_staff VALUES (13,3);
INSERT INTO episode_has_staff VALUES (14,3);
INSERT INTO episode_has_staff VALUES (15,3);
INSERT INTO episode_has_staff VALUES (16,3);
INSERT INTO episode_has_staff VALUES (17,4);
INSERT INTO episode_has_staff VALUES (18,4);
INSERT INTO episode_has_staff VALUES (19,4);
INSERT INTO episode_has_staff VALUES (20,4);
INSERT INTO episode_has_staff VALUES (21,4);
INSERT INTO episode_has_staff VALUES (22,4);

CREATE TABLE elimination (
    epid INT NOT NULL,
    elimcon INT NOT NULL,
	FOREIGN KEY(epid) REFERENCES episode(epid),
	FOREIGN KEY(elimcon) REFERENCES contestant(conid)
);
INSERT INTO elimination VALUES (5,109);
INSERT INTO elimination VALUES (6,110);
INSERT INTO elimination VALUES (7,111);
INSERT INTO elimination VALUES (8,112);
INSERT INTO elimination VALUES (9,113);
INSERT INTO elimination VALUES (10,114);
INSERT INTO elimination VALUES (11,115);
INSERT INTO elimination VALUES (16,125);
INSERT INTO elimination VALUES (17,126);
INSERT INTO elimination VALUES (18,127);
INSERT INTO elimination VALUES (19,128);
INSERT INTO elimination VALUES (20,129);
INSERT INTO elimination VALUES (21,130);
INSERT INTO elimination VALUES (22,131);

CREATE TABLE applies (
    apid INT NOT NULL,
    showid INT NOT NULL,
	FOREIGN KEY(showid) REFERENCES rshow(showid),
	FOREIGN KEY(apid) REFERENCES applicant(apid)
);
INSERT INTO applies VALUES (1,1);
INSERT INTO applies VALUES (2,1);
INSERT INTO applies VALUES (3,1);
INSERT INTO applies VALUES (4,1);
INSERT INTO applies VALUES (5,1);
INSERT INTO applies VALUES (6,1);
INSERT INTO applies VALUES (7,1);
INSERT INTO applies VALUES (8,1);
INSERT INTO applies VALUES (9,1);
INSERT INTO applies VALUES (10,1);
INSERT INTO applies VALUES (11,1);
INSERT INTO applies VALUES (12,1);
INSERT INTO applies VALUES (13,1);
INSERT INTO applies VALUES (14,1);
INSERT INTO applies VALUES (15,1);
INSERT INTO applies VALUES (16,1);
INSERT INTO applies VALUES (17,2);
INSERT INTO applies VALUES (18,2);
INSERT INTO applies VALUES (19,2);
INSERT INTO applies VALUES (20,2);
INSERT INTO applies VALUES (21,2);
INSERT INTO applies VALUES (22,2);
INSERT INTO applies VALUES (23,2);
INSERT INTO applies VALUES (24,2);
INSERT INTO applies VALUES (25,2);
INSERT INTO applies VALUES (26,2);
INSERT INTO applies VALUES (27,2);
INSERT INTO applies VALUES (28,2);
INSERT INTO applies VALUES (29,2);
INSERT INTO applies VALUES (30,2);
INSERT INTO applies VALUES (31,2);
INSERT INTO applies VALUES (32,2);
INSERT INTO applies VALUES (33,2);
INSERT INTO applies VALUES (34,2);
INSERT INTO applies VALUES (35,2);
INSERT INTO applies VALUES (36,2);
INSERT INTO applies VALUES (37,2);
INSERT INTO applies VALUES (38,2);
INSERT INTO applies VALUES (39,2);
INSERT INTO applies VALUES (40,2);
INSERT INTO applies VALUES (41,2);
INSERT INTO applies VALUES (42,2);
INSERT INTO applies VALUES (42,1);
INSERT INTO applies VALUES (37,1);
INSERT INTO applies VALUES (34,1);
INSERT INTO applies VALUES (32,1);

CREATE TABLE performs_in (
    conid INT NOT NULL,
    epid INT NOT NULL,
	FOREIGN KEY(epid) REFERENCES episode(epid),
	FOREIGN KEY(conid) REFERENCES contestant(conid)
);
INSERT INTO performs_in VALUES (101,1);
INSERT INTO performs_in VALUES (102,1);
INSERT INTO performs_in VALUES (103,1);
INSERT INTO performs_in VALUES (104,1);
INSERT INTO performs_in VALUES (105,1);
INSERT INTO performs_in VALUES (106,1);
INSERT INTO performs_in VALUES (107,1);
INSERT INTO performs_in VALUES (108,1);
INSERT INTO performs_in VALUES (109,2);
INSERT INTO performs_in VALUES (110,2);
INSERT INTO performs_in VALUES (111,2);
INSERT INTO performs_in VALUES (112,2);
INSERT INTO performs_in VALUES (113,2);
INSERT INTO performs_in VALUES (114,2);
INSERT INTO performs_in VALUES (115,2);
INSERT INTO performs_in VALUES (116,2);
INSERT INTO performs_in VALUES (101,3);
INSERT INTO performs_in VALUES (102,3);
INSERT INTO performs_in VALUES (103,3);
INSERT INTO performs_in VALUES (104,3);
INSERT INTO performs_in VALUES (105,3);
INSERT INTO performs_in VALUES (106,3);
INSERT INTO performs_in VALUES (107,3);
INSERT INTO performs_in VALUES (108,3);
INSERT INTO performs_in VALUES (109,3);
INSERT INTO performs_in VALUES (110,3);
INSERT INTO performs_in VALUES (111,3);
INSERT INTO performs_in VALUES (112,3);
INSERT INTO performs_in VALUES (113,3);
INSERT INTO performs_in VALUES (114,3);
INSERT INTO performs_in VALUES (115,3);
INSERT INTO performs_in VALUES (116,3);
INSERT INTO performs_in VALUES (105,4);
INSERT INTO performs_in VALUES (106,4);
INSERT INTO performs_in VALUES (107,4);
INSERT INTO performs_in VALUES (108,4);
INSERT INTO performs_in VALUES (109,4);
INSERT INTO performs_in VALUES (110,4);
INSERT INTO performs_in VALUES (111,4);
INSERT INTO performs_in VALUES (112,4);
INSERT INTO performs_in VALUES (113,4);
INSERT INTO performs_in VALUES (114,4);
INSERT INTO performs_in VALUES (115,4);
INSERT INTO performs_in VALUES (116,4);
INSERT INTO performs_in VALUES (109,5);
INSERT INTO performs_in VALUES (110,5);
INSERT INTO performs_in VALUES (111,5);
INSERT INTO performs_in VALUES (112,5);
INSERT INTO performs_in VALUES (113,5);
INSERT INTO performs_in VALUES (114,5);
INSERT INTO performs_in VALUES (115,5);
INSERT INTO performs_in VALUES (116,5);
INSERT INTO performs_in VALUES (110,6);
INSERT INTO performs_in VALUES (111,6);
INSERT INTO performs_in VALUES (112,6);
INSERT INTO performs_in VALUES (113,6);
INSERT INTO performs_in VALUES (114,6);
INSERT INTO performs_in VALUES (115,6);
INSERT INTO performs_in VALUES (116,6);
INSERT INTO performs_in VALUES (111,7);
INSERT INTO performs_in VALUES (112,7);
INSERT INTO performs_in VALUES (113,7);
INSERT INTO performs_in VALUES (114,7);
INSERT INTO performs_in VALUES (115,7);
INSERT INTO performs_in VALUES (116,7);
INSERT INTO performs_in VALUES (112,8);
INSERT INTO performs_in VALUES (113,8);
INSERT INTO performs_in VALUES (114,8);
INSERT INTO performs_in VALUES (115,8);
INSERT INTO performs_in VALUES (116,8);
INSERT INTO performs_in VALUES (113,9);
INSERT INTO performs_in VALUES (114,9);
INSERT INTO performs_in VALUES (115,9);
INSERT INTO performs_in VALUES (116,9);
INSERT INTO performs_in VALUES (114,10);
INSERT INTO performs_in VALUES (115,10);
INSERT INTO performs_in VALUES (116,10);
INSERT INTO performs_in VALUES (115,11);
INSERT INTO performs_in VALUES (116,11);
INSERT INTO performs_in VALUES (117,12);
INSERT INTO performs_in VALUES (118,12);
INSERT INTO performs_in VALUES (119,12);
INSERT INTO performs_in VALUES (120,12);
INSERT INTO performs_in VALUES (121,12);
INSERT INTO performs_in VALUES (122,12);
INSERT INTO performs_in VALUES (123,12);
INSERT INTO performs_in VALUES (124,12);
INSERT INTO performs_in VALUES (125,13);
INSERT INTO performs_in VALUES (126,13);
INSERT INTO performs_in VALUES (127,13);
INSERT INTO performs_in VALUES (128,13);
INSERT INTO performs_in VALUES (129,13);
INSERT INTO performs_in VALUES (130,13);
INSERT INTO performs_in VALUES (131,13);
INSERT INTO performs_in VALUES (132,13);
INSERT INTO performs_in VALUES (117,14);
INSERT INTO performs_in VALUES (118,14);
INSERT INTO performs_in VALUES (119,14);
INSERT INTO performs_in VALUES (120,14);
INSERT INTO performs_in VALUES (121,14);
INSERT INTO performs_in VALUES (122,14);
INSERT INTO performs_in VALUES (123,14);
INSERT INTO performs_in VALUES (124,14);
INSERT INTO performs_in VALUES (125,14);
INSERT INTO performs_in VALUES (126,14);
INSERT INTO performs_in VALUES (127,14);
INSERT INTO performs_in VALUES (128,14);
INSERT INTO performs_in VALUES (129,14);
INSERT INTO performs_in VALUES (130,14);
INSERT INTO performs_in VALUES (131,14);
INSERT INTO performs_in VALUES (132,14);
INSERT INTO performs_in VALUES (121,15);
INSERT INTO performs_in VALUES (122,15);
INSERT INTO performs_in VALUES (123,15);
INSERT INTO performs_in VALUES (124,15);
INSERT INTO performs_in VALUES (125,15);
INSERT INTO performs_in VALUES (126,15);
INSERT INTO performs_in VALUES (127,15);
INSERT INTO performs_in VALUES (128,15);
INSERT INTO performs_in VALUES (129,15);
INSERT INTO performs_in VALUES (130,15);
INSERT INTO performs_in VALUES (131,15);
INSERT INTO performs_in VALUES (132,15);
INSERT INTO performs_in VALUES (125,16);
INSERT INTO performs_in VALUES (126,16);
INSERT INTO performs_in VALUES (127,16);
INSERT INTO performs_in VALUES (128,16);
INSERT INTO performs_in VALUES (129,16);
INSERT INTO performs_in VALUES (130,16);
INSERT INTO performs_in VALUES (131,16);
INSERT INTO performs_in VALUES (132,16);
INSERT INTO performs_in VALUES (126,17);
INSERT INTO performs_in VALUES (127,17);
INSERT INTO performs_in VALUES (128,17);
INSERT INTO performs_in VALUES (129,17);
INSERT INTO performs_in VALUES (130,17);
INSERT INTO performs_in VALUES (131,17);
INSERT INTO performs_in VALUES (132,17);
INSERT INTO performs_in VALUES (127,18);
INSERT INTO performs_in VALUES (128,18);
INSERT INTO performs_in VALUES (129,18);
INSERT INTO performs_in VALUES (130,18);
INSERT INTO performs_in VALUES (131,18);
INSERT INTO performs_in VALUES (132,18);
INSERT INTO performs_in VALUES (128,19);
INSERT INTO performs_in VALUES (129,19);
INSERT INTO performs_in VALUES (130,19);
INSERT INTO performs_in VALUES (131,19);
INSERT INTO performs_in VALUES (132,19);
INSERT INTO performs_in VALUES (129,20);
INSERT INTO performs_in VALUES (130,20);
INSERT INTO performs_in VALUES (131,20);
INSERT INTO performs_in VALUES (132,20);
INSERT INTO performs_in VALUES (130,21);
INSERT INTO performs_in VALUES (131,21);
INSERT INTO performs_in VALUES (132,21);
INSERT INTO performs_in VALUES (131,22);
INSERT INTO performs_in VALUES (132,22);

CREATE TABLE salary (
    postid INT PRIMARY KEY NOT NULL,
    postname VARCHAR(11) NOT NULL,
    sal INT NOT NULL
);
INSERT INTO salary VALUES (1,'sr. manager',50000);
INSERT INTO salary VALUES (2,'jr. manager',25000);
INSERT INTO salary VALUES (3,'intern',5000);

CREATE TABLE battle (
    winid INT NOT NULL,
    losid INT NOT NULL,
    epid INT NOT NULL,
	FOREIGN KEY(epid) REFERENCES episode(epid),
	FOREIGN KEY(winid) REFERENCES contestant(conid),
	FOREIGN KEY(losid) REFERENCES contestant(conid)
);
INSERT INTO battle VALUES (109,101,3);
INSERT INTO battle VALUES (111,103,3);
INSERT INTO battle VALUES (110,102,3);
INSERT INTO battle VALUES (108,104,3);
INSERT INTO battle VALUES (113,105,4);
INSERT INTO battle VALUES (115,106,4);
INSERT INTO battle VALUES (114,107,4);
INSERT INTO battle VALUES (112,108,4);
INSERT INTO battle VALUES (125,117,14);
INSERT INTO battle VALUES (127,119,14);
INSERT INTO battle VALUES (126,118,14);
INSERT INTO battle VALUES (128,120,14);
INSERT INTO battle VALUES (129,121,15);
INSERT INTO battle VALUES (131,122,15);
INSERT INTO battle VALUES (130,123,15);
INSERT INTO battle VALUES (132,124,15);

CREATE TABLE vote (
    mob BIGINT PRIMARY KEY NOT NULL,
    dateofvote DATETIME NOT NULL,
    conid INT NOT NULL,
    FOREIGN KEY(conid) REFERENCES contestant(conid)
);
INSERT INTO vote VALUES (8035074641,'2014-01-29 00:00:00',109);
INSERT INTO vote VALUES (9345698964,'2014-01-29 00:00:00',110);
INSERT INTO vote VALUES (3882519310,'2014-01-29 00:00:00',116);
INSERT INTO vote VALUES (6566098410,'2014-01-29 00:00:00',114);
INSERT INTO vote VALUES (3973792308,'2014-01-29 00:00:00',115);
INSERT INTO vote VALUES (421200445,'2014-01-29 00:00:00',110);
INSERT INTO vote VALUES (4260844404,'2014-01-29 00:00:00',112);
INSERT INTO vote VALUES (5746777197,'2014-01-29 00:00:00',112);
INSERT INTO vote VALUES (4001406467,'2014-01-29 00:00:00',111);
INSERT INTO vote VALUES (7700482773,'2014-01-29 00:00:00',113);
INSERT INTO vote VALUES (6109738720,'2014-01-29 00:00:00',110);
INSERT INTO vote VALUES (6020500052,'2014-01-29 00:00:00',114);
INSERT INTO vote VALUES (5176222214,'2014-01-29 00:00:00',116);
INSERT INTO vote VALUES (3937805898,'2014-01-29 00:00:00',114);
INSERT INTO vote VALUES (2075655660,'2014-01-29 00:00:00',115);
INSERT INTO vote VALUES (8172469068,'2014-01-29 00:00:00',114);
INSERT INTO vote VALUES (7204119895,'2014-01-29 00:00:00',111);
INSERT INTO vote VALUES (1251705194,'2014-01-29 00:00:00',113);
INSERT INTO vote VALUES (5891117982,'2014-02-05 00:00:00',111);
INSERT INTO vote VALUES (3125527122,'2014-02-05 00:00:00',111);
INSERT INTO vote VALUES (1585586619,'2014-02-05 00:00:00',111);
INSERT INTO vote VALUES (7336041757,'2014-02-05 00:00:00',112);
INSERT INTO vote VALUES (9200758089,'2014-02-05 00:00:00',114);
INSERT INTO vote VALUES (2711361178,'2014-02-05 00:00:00',115);
INSERT INTO vote VALUES (1244437661,'2014-02-05 00:00:00',116);
INSERT INTO vote VALUES (5378529674,'2014-02-05 00:00:00',114);
INSERT INTO vote VALUES (8809997994,'2014-02-05 00:00:00',111);
INSERT INTO vote VALUES (6776894991,'2014-02-05 00:00:00',116);
INSERT INTO vote VALUES (3442489672,'2014-02-05 00:00:00',115);
INSERT INTO vote VALUES (1040315200,'2014-02-05 00:00:00',113);
INSERT INTO vote VALUES (1638167472,'2014-02-05 00:00:00',113);
INSERT INTO vote VALUES (2621053898,'2014-02-05 00:00:00',114);
INSERT INTO vote VALUES (3130149803,'2014-02-12 00:00:00',112);
INSERT INTO vote VALUES (1149012182,'2014-02-12 00:00:00',112);
INSERT INTO vote VALUES (6034815097,'2014-02-12 00:00:00',114);
INSERT INTO vote VALUES (2337154162,'2014-02-12 00:00:00',115);
INSERT INTO vote VALUES (4791084305,'2014-02-12 00:00:00',116);
INSERT INTO vote VALUES (9118928961,'2014-02-12 00:00:00',116);
INSERT INTO vote VALUES (1057416043,'2014-02-12 00:00:00',111);
INSERT INTO vote VALUES (7278754769,'2014-02-12 00:00:00',116);
INSERT INTO vote VALUES (8309840907,'2014-02-12 00:00:00',113);
INSERT INTO vote VALUES (1536044906,'2014-02-12 00:00:00',113);
INSERT INTO vote VALUES (9810634614,'2014-02-12 00:00:00',114);
INSERT INTO vote VALUES (6571880493,'2014-02-12 00:00:00',115);
INSERT INTO vote VALUES (8424492603,'2014-02-12 00:00:00',115);
INSERT INTO vote VALUES (8831628546,'2014-02-19 00:00:00',116);
INSERT INTO vote VALUES (9011756889,'2014-02-19 00:00:00',116);
INSERT INTO vote VALUES (8364111470,'2014-02-19 00:00:00',116);
INSERT INTO vote VALUES (7922083005,'2014-02-19 00:00:00',114);
INSERT INTO vote VALUES (517211956,'2014-02-19 00:00:00',113);
INSERT INTO vote VALUES (4573852668,'2014-02-19 00:00:00',113);
INSERT INTO vote VALUES (8331103272,'2014-02-19 00:00:00',113);
INSERT INTO vote VALUES (1892849780,'2014-02-19 00:00:00',114);
INSERT INTO vote VALUES (2064968632,'2014-02-19 00:00:00',114);
INSERT INTO vote VALUES (2187691814,'2014-02-19 00:00:00',116);
INSERT INTO vote VALUES (9853689471,'2014-02-19 00:00:00',115);
INSERT INTO vote VALUES (4079908024,'2014-02-19 00:00:00',115);
INSERT INTO vote VALUES (6191368140,'2014-02-19 00:00:00',112);
INSERT INTO vote VALUES (2635379595,'2014-02-19 00:00:00',112);
INSERT INTO vote VALUES (4233786329,'2014-02-19 00:00:00',115);
INSERT INTO vote VALUES (6644281658,'2014-02-19 00:00:00',114);
INSERT INTO vote VALUES (6038308233,'2014-02-26 00:00:00',114);
INSERT INTO vote VALUES (3883139457,'2014-02-26 00:00:00',114);
INSERT INTO vote VALUES (7334908977,'2014-02-26 00:00:00',114);
INSERT INTO vote VALUES (1510868378,'2014-02-26 00:00:00',115);
INSERT INTO vote VALUES (1544754902,'2014-02-26 00:00:00',116);
INSERT INTO vote VALUES (5877618911,'2014-02-26 00:00:00',116);
INSERT INTO vote VALUES (1113173341,'2014-02-26 00:00:00',114);
INSERT INTO vote VALUES (4869130067,'2014-02-26 00:00:00',115);
INSERT INTO vote VALUES (3163248873,'2014-02-26 00:00:00',116);
INSERT INTO vote VALUES (9409550179,'2014-03-05 00:00:00',115);
INSERT INTO vote VALUES (4647251151,'2014-03-05 00:00:00',114);
INSERT INTO vote VALUES (6373004599,'2014-03-05 00:00:00',116);
INSERT INTO vote VALUES (8999463045,'2014-03-05 00:00:00',116);
INSERT INTO vote VALUES (7410549109,'2014-03-05 00:00:00',115);
INSERT INTO vote VALUES (9480808574,'2014-03-05 00:00:00',115);
INSERT INTO vote VALUES (1117736288,'2014-03-05 00:00:00',116);
INSERT INTO vote VALUES (2439327090,'2014-03-05 00:00:00',114);
INSERT INTO vote VALUES (5613287077,'2014-03-05 00:00:00',115);
INSERT INTO vote VALUES (8358548453,'2014-03-12 00:00:00',116);
INSERT INTO vote VALUES (5567025071,'2014-03-12 00:00:00',116);
INSERT INTO vote VALUES (7377058657,'2014-03-12 00:00:00',115);
INSERT INTO vote VALUES (9632229025,'2014-03-12 00:00:00',115);
INSERT INTO vote VALUES (4767048778,'2014-03-12 00:00:00',116);
INSERT INTO vote VALUES (8262099107,'2014-03-12 00:00:00',115);
INSERT INTO vote VALUES (7268774975,'2014-03-12 00:00:00',116);
INSERT INTO vote VALUES (7211579454,'2015-01-29 00:00:00',126);
INSERT INTO vote VALUES (3084169164,'2015-01-29 00:00:00',126);
INSERT INTO vote VALUES (2365017460,'2015-01-29 00:00:00',128);
INSERT INTO vote VALUES (2410181042,'2015-01-29 00:00:00',130);
INSERT INTO vote VALUES (7639030861,'2015-01-29 00:00:00',131);
INSERT INTO vote VALUES (5595875145,'2015-01-29 00:00:00',132);
INSERT INTO vote VALUES (9871714705,'2015-01-29 00:00:00',132);
INSERT INTO vote VALUES (7073160582,'2015-01-29 00:00:00',125);
INSERT INTO vote VALUES (5138366672,'2015-01-29 00:00:00',130);
INSERT INTO vote VALUES (3156910697,'2015-01-29 00:00:00',128);
INSERT INTO vote VALUES (6675997717,'2015-01-29 00:00:00',127);
INSERT INTO vote VALUES (4434927939,'2015-01-29 00:00:00',129);
INSERT INTO vote VALUES (9430919125,'2015-01-29 00:00:00',127);
INSERT INTO vote VALUES (851821135,'2015-01-29 00:00:00',129);
INSERT INTO vote VALUES (3573915470,'2015-01-29 00:00:00',131);
INSERT INTO vote VALUES (2594719328,'2015-02-05 00:00:00',127);
INSERT INTO vote VALUES (4595339074,'2015-02-05 00:00:00',127);
INSERT INTO vote VALUES (8655414520,'2015-02-05 00:00:00',127);
INSERT INTO vote VALUES (768615560,'2015-02-05 00:00:00',130);
INSERT INTO vote VALUES (9396838423,'2015-02-05 00:00:00',131);
INSERT INTO vote VALUES (6857084870,'2015-02-05 00:00:00',130);
INSERT INTO vote VALUES (9796824713,'2015-02-05 00:00:00',131);
INSERT INTO vote VALUES (2469017718,'2015-02-05 00:00:00',132);
INSERT INTO vote VALUES (7265192303,'2015-02-05 00:00:00',128);
INSERT INTO vote VALUES (3003494016,'2015-02-05 00:00:00',129);
INSERT INTO vote VALUES (6298911564,'2015-02-12 00:00:00',128);
INSERT INTO vote VALUES (3771322714,'2015-02-12 00:00:00',128);
INSERT INTO vote VALUES (1803287781,'2015-02-12 00:00:00',129);
INSERT INTO vote VALUES (3747250451,'2015-02-12 00:00:00',130);
INSERT INTO vote VALUES (1994823094,'2015-02-12 00:00:00',132);
INSERT INTO vote VALUES (4170591452,'2015-02-12 00:00:00',131);
INSERT INTO vote VALUES (9524980885,'2015-02-12 00:00:00',127);
INSERT INTO vote VALUES (550516854,'2015-02-12 00:00:00',130);
INSERT INTO vote VALUES (8216114599,'2015-02-12 00:00:00',131);
INSERT INTO vote VALUES (770322118,'2015-02-12 00:00:00',132);
INSERT INTO vote VALUES (755105431,'2015-02-12 00:00:00',132);
INSERT INTO vote VALUES (173953944,'2015-02-19 00:00:00',129);
INSERT INTO vote VALUES (6301896540,'2015-02-19 00:00:00',132);
INSERT INTO vote VALUES (9541164752,'2015-02-19 00:00:00',132);
INSERT INTO vote VALUES (3475430700,'2015-02-19 00:00:00',132);
INSERT INTO vote VALUES (8529298029,'2015-02-19 00:00:00',130);
INSERT INTO vote VALUES (4096069924,'2015-02-19 00:00:00',130);
INSERT INTO vote VALUES (4825606698,'2015-02-19 00:00:00',131);
INSERT INTO vote VALUES (2690228915,'2015-02-19 00:00:00',132);
INSERT INTO vote VALUES (4291128523,'2015-02-19 00:00:00',128);
INSERT INTO vote VALUES (679776696,'2015-02-19 00:00:00',129);
INSERT INTO vote VALUES (5693675572,'2015-02-19 00:00:00',130);
INSERT INTO vote VALUES (7747059599,'2015-02-19 00:00:00',131);
INSERT INTO vote VALUES (3162901971,'2015-02-26 00:00:00',130);
INSERT INTO vote VALUES (4728776467,'2015-02-26 00:00:00',131);
INSERT INTO vote VALUES (2725400480,'2015-02-26 00:00:00',132);
INSERT INTO vote VALUES (6972207501,'2015-02-26 00:00:00',131);
INSERT INTO vote VALUES (5694288404,'2015-02-26 00:00:00',132);
INSERT INTO vote VALUES (7090534130,'2015-02-26 00:00:00',130);
INSERT INTO vote VALUES (328982098,'2015-02-26 00:00:00',130);
INSERT INTO vote VALUES (4966538578,'2015-02-26 00:00:00',130);
INSERT INTO vote VALUES (5111297692,'2015-02-26 00:00:00',129);
INSERT INTO vote VALUES (7443390511,'2015-03-05 00:00:00',131);
INSERT INTO vote VALUES (7799318462,'2015-03-05 00:00:00',131);
INSERT INTO vote VALUES (2956365201,'2015-03-05 00:00:00',130);
INSERT INTO vote VALUES (6747633001,'2015-03-05 00:00:00',132);
INSERT INTO vote VALUES (8230251547,'2015-03-05 00:00:00',132);
INSERT INTO vote VALUES (6979746907,'2015-03-05 00:00:00',130);
INSERT INTO vote VALUES (6705242061,'2015-03-05 00:00:00',131);
INSERT INTO vote VALUES (7355166435,'2015-03-05 00:00:00',132);
INSERT INTO vote VALUES (6451825107,'2015-03-12 00:00:00',131);
INSERT INTO vote VALUES (5610551531,'2015-03-12 00:00:00',131);
INSERT INTO vote VALUES (9666439806,'2015-03-12 00:00:00',132);
INSERT INTO vote VALUES (823383195,'2015-03-12 00:00:00',132);
INSERT INTO vote VALUES (5359501442,'2015-03-12 00:00:00',132);
INSERT INTO vote VALUES (3231003491,'2015-03-12 00:00:00',132);


SHOW TABLES;

delimiter |
create function winner_details(showid int)
returns int
begin
declare conid int;
select c.conid into conid from contestant as c where c.epid is NULL and c.showid = showid;
return conid;
end|
delimiter ;
select winner_details(showid) from rshow;

delimiter |
create function good_episode(showid int)
returns int
begin
declare epicount int;
select count(epid) into epicount from episode where eprating > 3 and episode.showid = showid;
return epicount;
end|
delimiter ;
select good_episode(showid) from rshow;

delimiter |
create procedure when_elim(IN conid int, OUT epis int, OUT epidate datetime)
begin
select epid into epis from contestant where contestant.conid = conid;
select epdate into epidate from episode where episode.epid = epis;
end|
delimiter ;
call when_elim(109,@out1,@out2);
select @out1,@out2;

delimiter |
create procedure multi_judge(IN judid int,OUT num int)
begin
select count(*) into num from judged_in where jid = judid;
end|
delimiter ;
call multi_judge(1,@out1);
select @out1;

delimiter |
CREATE TRIGGER salary_check
BEFORE
UPDATE
ON salary
FOR EACH ROW
BEGIN
    IF NEW.sal > 100000 THEN
        SET NEW.sal = 0;
    END IF;
END|
delimiter ;
